<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MilnaGourmet</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <app-root></app-root>


    <button
      id="scrollUpBtn"
      class="scroll-up-btn rounded-full px-2 py-1"
      aria-label="Retourner en haut de la page"
    >
      <i class="fa-solid fa-arrow-up-long"></i>
    </button>

    <script>
      ////////////////////////// Fonction pour faire défiler la page vers le haut/////////////////
function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: "smooth",
  });
}

// Afficher ou masquer le bouton en fonction de la position de défilement
window.onscroll = function () {
  var scrollUpBtn = document.getElementById("scrollUpBtn");
  if (
    document.body.scrollTop > 20 ||
    document.documentElement.scrollTop > 20
  ) {
    scrollUpBtn.style.display = "block";
  } else {
    scrollUpBtn.style.display = "none";
  }
};

// Ajouter un écouteur d'événements pour le clic sur le bouton
document
  .getElementById("scrollUpBtn")
  .addEventListener("click", scrollToTop);

//////////////////////////////modal inscription
const inscription = document.getElementById("inscription");
const modalInscription = document.getElementById("modalInscription");

inscription.addEventListener("click", () => {
  modalInscription.classList.toggle("hidden");
});

// Fermer le dropdown si on clique en dehors
document.addEventListener("click", (event) => {
  if (
    !inscription.contains(event.target) &&
    !modalInscription.contains(event.target)
  ) {
    modalInscription.classList.add("hidden");
  }
});

//////////////////////////////modal connexion
const connexion = document.getElementById("connexion");
const modalConnexion = document.getElementById("modalConnexion");

connexion.addEventListener("click", () => {
  modalConnexion.classList.toggle("hidden");
});

// Fermer le dropdown si on clique en dehors
document.addEventListener("click", (event) => {
  if (
    !connexion.contains(event.target) &&
    !modalConnexion.contains(event.target)
  ) {
    modalConnexion.classList.add("hidden");
  }
});

///////////////////////DROPDOWN COMPTE////////////////////////////

const compte = document.getElementById("compte");
const compteDropdown = document.getElementById("compteDropdown");

compte.addEventListener("click", () => {
  compteDropdown.classList.toggle("hidden");
});

// Fermer le dropdown si on clique en dehors
document.addEventListener("click", (event) => {
  if (
    !compte.contains(event.target) &&
    !compteDropdown.contains(event.target)
  ) {
    compteDropdown.classList.add("hidden");
  }
});

///////////////////////DROPDOWN PANIER////////////////////////////
document.addEventListener("DOMContentLoaded", (event) => {
  const cartButton = document.getElementById("cartButton");
  const cartDropdown = document.getElementById("cartDropdown");

  cartButton.addEventListener("click", () => {
    cartDropdown.classList.toggle("hidden");
  });

  // Fermer le dropdown si on clique en dehors
  document.addEventListener("click", (event) => {
    if (
      !cartButton.contains(event.target) &&
      !cartDropdown.contains(event.target)
    ) {
      cartDropdown.classList.add("hidden");
    }
  });

  // Fonction pour ajouter un produit au panier (à appeler quand un produit est choisi)
  function addToCart(productName, price) {
    const cartItems = document.getElementById("cartItems");
    const li = document.createElement("li");
    li.textContent = `${productName} - ${price}€`;
    cartItems.appendChild(li);

    updateCartTotal();
    updateCartCount();
  }

  function updateCartTotal() {
    // Logique pour calculer et mettre à jour le total
  }

  function updateCartCount() {
    // Logique pour mettre à jour le compteur du panier
  }
});

    </script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
  </body>
</html>
